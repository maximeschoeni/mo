<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Best Stories</title>
    <link href="style.css" rel="stylesheet">
    <script src="../js/build-v7.7.js"></script>
    <script src="../js/TinyAnimate.js"></script>
    <script src="../js/swipe-v2.js"></script>
    <script src="../js/media-player-v4.js"></script>
    <script src="player.js"></script>
    <script src="stories.js"></script>

    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo=">

    <script>

    const style = document.createElement("style");
    style.type = "text/css";
    style.innerHTML = "";

    for (let i = 0; i < 20; i++) {

      const duration = Math.floor(Math.random(3000))+3000;
      // const duration = 4500;
      const delay = -Math.floor(Math.random()*duration);
      const length = 200;
      const offset = Math.random()*length;
      const height = Math.random()*0.25 + 0.05;
      const hue = Math.floor(Math.random()*360);
      const y = Math.random()*(1.45-height);

      style.innerHTML += `
      .footer-animation .line:nth-child(${i+1}) {
        background: linear-gradient(90deg, hsla(${hue}, 100%, 50%, 0) 0%, hsla(${hue}, 100%, 50%, 0.2) 10%, hsla(${hue}, 100%, 50%, 0) 100%);
        height: ${height}em;
        width: 9.6em;
        top: ${y}em;
        animation: ${duration}ms linear ${delay}ms infinite running slide${i+1};
      }
      @keyframes slide${i+1} {
        from {transform: translateX(${200+offset}%);}
        to {transform: translateX(${-100+offset-length}%);}
      }
      `;

    }




    </script>

  </head>
  <body>
    <div id="container"></div>
    <script>
      document.body.append(style);
      build({
        class: "footer-animation",
        children: [0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9,0,1,2,3,4,5,6,7,8,9].map(i => {
          return {
            class: "line"
          };
        })
      }, document.getElementById("container"));
    </script>
  </body>
</html>
